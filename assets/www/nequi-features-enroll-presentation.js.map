{"version":3,"sources":["./libs/features/enroll/src/presentation/pages/enroll-request/enroll-request.view-model.ts","./libs/features/enroll/src/config/enroll.config.ts","./libs/features/enroll/src/presentation/pages/enroll-token/enroll-token.view-model.ts","./libs/features/enroll/src/presentation/features-enroll-routing.module.ts","./libs/features/enroll/src/presentation/index.ts","./libs/features/enroll/src/presentation/pages/enroll-request/enroll-request.page.ts","./libs/features/enroll/src/presentation/pages/enroll-request/enroll-request.page.html","./libs/features/enroll/src/presentation/pages/index.ts","./libs/features/enroll/src/presentation/pages/enroll-request/enroll-request.config.ts","./libs/features/enroll/src/presentation/features-enroll.module.ts","./libs/features/enroll/src/presentation/pages/enroll-token/enroll-token.page.ts","./libs/features/enroll/src/presentation/pages/enroll-token/enroll-token.page.html"],"names":[],"mappings":"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","file":"nequi-features-enroll-presentation.js","sourcesContent":["import { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { EnrollRequestConfig } from './enroll-request.config';\n\nexport class EnrollRequestViewModel {\n  public form: FormGroup;\n  public isKeyboardShown = false;\n  public enrollRequestConfig = EnrollRequestConfig;\n\n  public initForm(phoneNumber: string, phoneNumberPattern: RegExp) {\n    this.form = new FormGroup({\n      phoneNumber: new FormControl(phoneNumber, [\n        Validators.required,\n        Validators.pattern(phoneNumberPattern),\n      ]),\n      sendMessage: new FormControl(false, [Validators.requiredTrue]),\n    });\n\n    this.form.markAsPristine();\n    this.form.markAsUntouched();\n  }\n\n  public get phoneNumberFormControl() {\n    return this.form.get('phoneNumber');\n  }\n\n  public get sendMessageFormControl() {\n    return this.form.get('sendMessage');\n  }\n\n  public onInputFocus(isKeyboardShown: boolean) {\n    this.isKeyboardShown = isKeyboardShown;\n  }\n}\n","import { ModuleConfigProvider } from '@nequi/features/commons';\n\nexport const EnrollConfig = Object.freeze<ModuleConfigProvider>({\n  i18n: {\n    moduleKey: 'enroll',\n    accountLocksKey: 'account-locks',\n  },\n  cache: {\n    keys: {\n      userProfileInfo: 'user-profile-info',\n    },\n  },\n  applicationData: {\n    biometryBlocked: 'biometry.biometryBlocked',\n  },\n});\n","import { ParamMap } from '@angular/router';\nimport { TokenAccess } from '@nequi/features/security/auth/core';\n\nexport class EnrollTokenViewModel {\n  public phoneNumber = '';\n  public oneTimePin = '';\n  public isEnroll: boolean;\n  public tokenAccess: TokenAccess;\n\n  public setQueryParams(queryParamMap: ParamMap) {\n    this.tokenAccess = queryParamMap.get('tokenAccess') as TokenAccess;\n    this.phoneNumber = queryParamMap.get('phoneNumber');\n    this.isEnroll =\n      queryParamMap.get('isEnroll') === undefined ? true : Boolean(queryParamMap.get('isEnroll'));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ModuleWithProvidersFactory, ORIGIN_FLOW, OriginFlow } from '@nequi/features/commons';\n\nimport { EnrollRequestPage } from './pages/enroll-request/enroll-request.page';\nimport { EnrollTokenPage } from './pages/enroll-token/enroll-token.page';\n\nconst routes: Routes = [\n  {\n    path: 'enroll-request',\n    component: EnrollRequestPage,\n  },\n  {\n    path: 'enroll-token',\n    component: EnrollTokenPage,\n  },\n  {\n    path: 'data-treatment',\n    loadChildren: () =>\n      import('@nequi/features/data-treatment/presentation').then(\n        (m) =>\n          new ModuleWithProvidersFactory(\n            m.FeaturesDataTreatmentModule.withConfig([\n              { provide: ORIGIN_FLOW, useValue: OriginFlow.ENROLL },\n            ])\n          )\n      ),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FeaturesEnrollRoutingModule {}\n","export * from './features-enroll.module';\nexport * from './services';\nexport * from './pages';\n","import { Component, Injector } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Colors, StatusBarService } from '@nequi/apps/base/mobile/config/features/commons/services';\nimport { CacheInteractor } from '@nequi/cache/core';\nimport { CoreException } from '@nequi/commons/exceptions';\nimport { AuthProvider, PhoneNumberConfigProvider, UserInfoProvider } from '@nequi/features/commons';\nimport {\n  AnalyticsInteractor,\n  AnalyticsThirdPartyInteractor,\n  AnalyticsType,\n  UserEntity\n} from '@nequi/features/commons/core';\nimport { AlertService, FeatureBasePage } from '@nequi/features/commons/presentation';\nimport {\n  ModuleConfigProvider,\n  SessionProvider,\n  TranslateProvider\n} from '@nequi/features/commons/providers';\nimport { UserStatus } from '@nequi/features/contacts/core';\nimport { ContingencyService } from '@nequi/features/contingency/presentation';\nimport {\n  EnrollInteractor,\n  ExcededAttempsGenerateOtpException,\n  IsInvitationModeException,\n  UserExistException\n} from '@nequi/features/enroll/core';\nimport { ProfileInteractor } from '@nequi/features/profile/core';\nimport { ProfileService } from '@nequi/features/profile/presentation';\nimport { AuthInteractor, TokenAccess } from '@nequi/features/security/auth/core';\nimport { SettingInteractor } from '@nequi/features/settings/core';\nimport { LoadingService, ToastService } from '@nequi/ui';\n\nimport { ChangePhoneNumberService } from '../../services/change-phone-number.service';\nimport { EnrollRequestConfig } from './enroll-request.config';\nimport { EnrollRequestViewModel } from './enroll-request.view-model';\n\nconst CONECTION_ERROR_1 = '1001';\nconst CONECTION_ERROR_2 = '1002';\n\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\nfunction isErrorConection(errorCode: string): boolean {\n  return errorCode === CONECTION_ERROR_1 || errorCode === CONECTION_ERROR_2;\n}\n\n@Component({\n  selector: 'app-enroll-request',\n  templateUrl: './enroll-request.page.html',\n  styleUrls: ['./enroll-request.page.scss'],\n})\nexport class EnrollRequestPage extends FeatureBasePage {\n  public viewModel = new EnrollRequestViewModel();\n  public sendRequestErrors = {\n    [UserExistException.name]: () => this.userExist(),\n    [ExcededAttempsGenerateOtpException.name]: () => this.userExceededAttempts(),\n    [IsInvitationModeException.name]: () => this.invitationMode(),\n  };\n\n  constructor(\n    injector: Injector,\n    private authProvider: AuthProvider,\n    private settingInteractor: SettingInteractor,\n    private translateProvider: TranslateProvider,\n    private loadingService: LoadingService,\n    private enrollInteractor: EnrollInteractor,\n    private toastService: ToastService,\n    private alertService: AlertService,\n    private profileService: ProfileService,\n    private router: Router,\n    private statusBarService: StatusBarService,\n    private cacheInteractor: CacheInteractor,\n    private userInfoProvider: UserInfoProvider,\n    private changePhoneNumberService: ChangePhoneNumberService,\n    private analyticsInteractor: AnalyticsInteractor,\n    private profileInteractor: ProfileInteractor,\n    private activatedRoute: ActivatedRoute,\n    private sessionProvider: SessionProvider,\n    private contingencyService: ContingencyService,\n    private authInteractor: AuthInteractor,\n    private clevertapInteractor: AnalyticsThirdPartyInteractor,\n    private moduleConfigProvider: ModuleConfigProvider,\n    private phoneNumberConfig: PhoneNumberConfigProvider\n  ) {\n    super(injector);\n    this.statusBarService.changeStatusBarColor(Colors.DEFAULT);\n    this.translateProvider.loadModule(this.moduleConfigProvider.i18n.moduleKey);\n    const phoneNumber = this.router.getCurrentNavigation().extras.state?.phoneNumber;\n\n    this.viewModel.initForm(phoneNumber, this.phoneNumberConfig.validExpression);\n  }\n\n  public goBack() {\n    this.navigatorProvider.back();\n  }\n\n  public async sendRequest() {\n    try {\n      if (this.sessionProvider.hasContingency()) {\n        this.contingencyService.showCanNotCreateAccountModal();\n\n        return;\n      }\n\n      await this.loadingService.show();\n\n      await this.handleSendRequest();\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n\n  public async handleSendRequest() {\n    const phoneNumber: number = this.viewModel.phoneNumberFormControl.value;\n\n    if (this.changePhoneNumberService.isChangePhoneNumberActive) {\n      await this.validateNewPhoneNumber(phoneNumber.toString());\n    } else {\n      await this.enrollInteractor.request(phoneNumber);\n      await this.loadingService.hideWithoutFeedback();\n      this.trackAskForNumber();\n      this.goToEnrollToken();\n    }\n  }\n\n  public async invitationMode() {\n    await this.loadingService.hideWithoutFeedback();\n    // TODO: $state.go('enrollInvitationMode', {});\n    this.goToEnrollToken();\n  }\n\n  private goToEnrollToken() {\n    this.navigatorProvider.navigateForward(this.viewModel.enrollRequestConfig.enrollTokenUrl, {\n      queryParams: {\n        phoneNumber: this.viewModel.phoneNumberFormControl.value,\n        tokenAccess: TokenAccess.REGISTRY,\n        isEnroll: true,\n      },\n    });\n  }\n\n  private handleError(error: CoreException) {\n    if (this.sendRequestErrors[error?.constructor?.name]) {\n      return this.sendRequestErrors[error.constructor.name]();\n    }\n\n    this.genericViewError(error);\n  }\n\n  private async genericViewError(error) {\n    await this.loadingService.hideWithoutFeedback();\n\n    await this.toastService.hide();\n    const isConectionError = isErrorConection(error.code);\n\n    if (isConectionError) {\n      return this.toastService.showConnectionError(error.message);\n    }\n\n    this.toastService.showError(error.message);\n  }\n\n  private async userExceededAttempts() {\n    await this.loadingService.hideWithoutFeedback();\n\n    this.alertService.showByI18n({\n      i18nKey: this.viewModel.enrollRequestConfig.errorExceededAttemptsGenerateOtp,\n      handlers: {\n        accept: () => this.authProvider.signOut(),\n      },\n    });\n  }\n\n  private async accountAlreadyExists() {\n    await this.settingInteractor.get();\n\n    /* analyticsProvider.removeAditionalTagForView(\n      configAnalitycsProvider.generalAnalytics.aditionalTagsForViews.userOrigin.tagName\n    ); */\n\n    this.changePhoneNumberService.isChangePhoneNumberActive = false;\n\n    this.navigatorProvider.navigateForward(\n      this.viewModel.enrollRequestConfig.authValidatePasswordUrl,\n      {\n        queryParams: {\n          phoneNumber: this.viewModel.phoneNumberFormControl.value,\n          isDeviceProvisioned: false,\n        },\n      }\n    );\n  }\n\n  private async showAlertAccountAlreadyExists() {\n    const phoneNumber = await this.userInfoProvider.getPhoneNumber();\n\n    this.alertService.showByI18n({\n      i18nKey: this.viewModel.enrollRequestConfig.errorAccountAlreadyExists,\n      handlers: {\n        accept: async () => {\n          this.accountAlreadyExists();\n        },\n      },\n      messageParameters: [phoneNumber],\n    });\n  }\n\n  private async validateStateUser(response: UserEntity) {\n    this.cacheInteractor.clearGroup(this.moduleConfigProvider.cache.keys.userProfileInfo);\n    this.profileService.setLastLogin(null);\n\n    switch (response.state) {\n      case UserStatus.ENROLL:\n        this.goToEnrollToken();\n        break;\n      case UserStatus.LITE_REGISTRY:\n        this.showAlertAccountAlreadyExists();\n        break;\n      default:\n    }\n  }\n\n  private async userExist() {\n    try {\n      const response = await this.authInteractor.phoneNumberEmailValidation(\n        this.viewModel.phoneNumberFormControl.value\n      );\n\n      this.clevertapInteractor.changeUserIdentity(response.cifId);\n\n      await this.validateStateUser(response);\n      await this.loadingService.hideWithoutFeedback();\n    } catch (catchError) {\n      await this.loadingService.hideWithoutFeedback();\n      this.toastService.showInfo(catchError.message);\n    }\n  }\n\n  private trackAskForNumber() {\n    this.analyticsInteractor.trackEvent({\n      type: AnalyticsType.FACEBOOK,\n      params: { eventName: EnrollRequestConfig.anaytics.askForNumberEventName },\n    });\n\n    this.analyticsInteractor.trackEvent({\n      type: AnalyticsType.FIREBASE,\n      params: { eventName: EnrollRequestConfig.anaytics.askForNumberEventName },\n    });\n  }\n\n  private async validateNewPhoneNumber(phoneNumber: string) {\n    try {\n      await this.profileInteractor.validateNewPhoneNumber(phoneNumber);\n      await this.loadingService.hideWithoutFeedback();\n      this.navigatorProvider.navigateForward(this.viewModel.enrollRequestConfig.enrollTokenUrl, {\n        queryParams: {\n          phoneNumber: phoneNumber,\n        },\n        relativeTo: this.activatedRoute,\n      });\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n}\n","<ion-header class=\"nequi-header\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button id=\"enroll-request_go-back_button\" (click)=\"goBack()\">\n        <ion-icon slot=\"icon-only\" name=\"arrow-back-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content\n  class=\"ion-content--enroll ion-padding-horizontal\"\n  fullscreen=\"true\"\n  appFormContentStyle\n>\n  <ion-text class=\"nequi-title\">{{ 'enroll.request-enroll.title' | translate }}</ion-text>\n\n  <form [formGroup]=\"viewModel.form\">\n    <ion-grid class=\"ion-no-padding\">\n      <ion-row>\n        <ion-col class=\"margin-bottom-16\">\n          <nequi-input-phone\n            id=\"enroll-request_phone-number_input\"\n            itemClass=\"nequi-item\"\n            inputClass=\"nequi-item__input\"\n            codeClass=\"nequi-item__phone-code\"\n            divisionClass=\"nequi-item__division\"\n            placeholder=\"{{ 'enroll.request-enroll.placeholders.input-phone' | translate }}\"\n            color=\"input\"\n            [control]=\"viewModel.phoneNumberFormControl\"\n            [errorMessages]=\"'enroll.request-enroll.validators.phone-number' | translate\"\n            [hasIndicative]=\"true\"\n            (focusEvent)=\"viewModel.onInputFocus($event)\"\n          >\n          </nequi-input-phone>\n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n        <ion-col>\n          <ion-note class=\"request-enroll__item-text\">\n            {{ 'enroll.request-enroll.description' | translate }}\n          </ion-note>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </form>\n\n  <ion-footer class=\"nequi-footer ion-no-border\">\n    <ion-toolbar>\n      <ion-item lines=\"none\" class=\"request-enroll__item\">\n        <ion-label class=\"request-enroll__item-text ion-text-wrap\">\n          {{ 'enroll.request-enroll.message' | translate }}\n        </ion-label>\n        <ion-checkbox\n          slot=\"start\"\n          id=\"enroll-request_agree_checkbox\"\n          class=\"filled-in\"\n          [formControl]=\"viewModel.sendMessageFormControl\"\n        ></ion-checkbox>\n      </ion-item>\n\n      <ion-button\n        id=\"enroll-request_send-request_button\"\n        expand=\"block\"\n        shape=\"round\"\n        class=\"margin-bottom-8\"\n        color=\"guayaba\"\n        [disabled]=\"viewModel.form.invalid\"\n        (click)=\"sendRequest()\"\n      >\n        {{ 'enroll.request-enroll.send-message' | translate }}\n      </ion-button>\n    </ion-toolbar>\n  </ion-footer>\n</ion-content>\n","export * from './enroll-request/enroll-request.page';\n\nexport * from './enroll-token/enroll-token.config';\nexport * from './enroll-token/enroll-token.page';\nexport * from './enroll-token/enroll-token.view-model';\n","export const EnrollRequestConfig = Object.freeze({\n  authValidatePasswordUrl: '/auth/validate-password',\n  enrollTokenUrl: '/auth/enroll/enroll-token',\n  enrollRequestUrl: '/auth/enroll/enroll-request',\n  errorExceededAttemptsGenerateOtp:\n    'enroll.request-enroll.alert.error.exceeded-attempts-generate-otp',\n  errorAccountAlreadyExists: 'enroll.request-enroll.alert.error.account-already-exists',\n  anaytics: {\n    askForNumberEventName: 'Vinculación_pedir_numero_cel',\n  },\n});\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ModuleConfigProvider } from '@nequi/features/commons';\nimport { FeaturesCommonsModule } from '@nequi/features/commons/presentation';\nimport { PhonePipe } from '@nequi/features/commons/presentation/';\nimport { EnrollInteractor, EnrollRepository } from '@nequi/features/enroll/core';\nimport { NequiUiModule } from '@nequi/ui';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { EnrollConfig } from '../config/enroll.config';\nimport { FeaturesEnrollRoutingModule } from './features-enroll-routing.module';\nimport { EnrollRequestPage } from './pages/enroll-request/enroll-request.page';\nimport { EnrollTokenPage } from './pages/enroll-token/enroll-token.page';\nimport { TokenAccessActionService } from './services/token-access-action.service';\n\n@NgModule({\n  declarations: [EnrollRequestPage, EnrollTokenPage],\n  imports: [\n    CommonModule,\n    FeaturesEnrollRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    TranslateModule,\n    NequiUiModule,\n    FeaturesCommonsModule,\n  ],\n  providers: [\n    TokenAccessActionService,\n    PhonePipe,\n    {\n      provide: EnrollInteractor,\n      deps: [EnrollRepository],\n      useClass: EnrollInteractor,\n    },\n    {\n      provide: ModuleConfigProvider,\n      useValue: EnrollConfig,\n    },\n  ],\n})\nexport class FeaturesEnrollModule {}\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApplicationDataInteractor } from '@nequi/features/application-data/core';\nimport {\n  AnalyticsInteractor,\n  AnalyticsType,\n  ProvisioningFailedException,\n  ProvisioningInteractor\n} from '@nequi/features/commons/core';\nimport {\n  ActivitySessionService,\n  FeatureBasePage,\n  RequestOtpOrganism\n} from '@nequi/features/commons/presentation';\nimport { ProvisioningManagementService } from '@nequi/features/commons/presentation/services';\nimport {\n  AuthProvider,\n  ModuleConfigProvider,\n  SessionProvider,\n  TranslateProvider,\n  UserInfoProvider\n} from '@nequi/features/commons/providers';\nimport { UserStatus } from '@nequi/features/contacts/core';\nimport {\n  EnrollInteractor,\n  OtpChannel,\n  ValidateOtpEntity,\n  ValidateOtpParams\n} from '@nequi/features/enroll/core';\nimport { TokenAccess } from '@nequi/features/security/auth/core';\nimport { BiometryType } from '@nequi/features/security/biometry/core/constants';\nimport { LoadingService, ToastService } from '@nequi/ui';\n\nimport { ChangePhoneNumberService } from '../../services/change-phone-number.service';\nimport { TokenAccessActionService } from '../../services/token-access-action.service';\nimport { EnrollTokenConfig } from './enroll-token.config';\nimport { EnrollTokenViewModel } from './enroll-token.view-model';\nimport { getFormattedDateTimes } from '@nequi/utils/date';\nimport { stringsArrayToObjectWithValues } from '@nequi/utils/functions';\n\n@Component({\n  selector: 'app-enroll-token',\n  templateUrl: './enroll-token.page.html',\n})\nexport class EnrollTokenPage extends FeatureBasePage implements OnInit {\n  @ViewChild(RequestOtpOrganism) public requestOtpOrganism: RequestOtpOrganism;\n\n  public viewModel = new EnrollTokenViewModel();\n\n  protected route: ActivatedRoute;\n  protected sessionProvider: SessionProvider;\n  protected loadingService: LoadingService;\n  protected translateProvider: TranslateProvider;\n  protected activitySessionService: ActivitySessionService;\n  protected enrollInteractor: EnrollInteractor;\n  protected toastService: ToastService;\n  protected provisioningManagementService: ProvisioningManagementService;\n  protected provisioningInteractor: ProvisioningInteractor;\n  protected userInfoProvider: UserInfoProvider;\n  protected tokenAccessActionService: TokenAccessActionService;\n  protected authProvider: AuthProvider;\n  protected changePhoneNumberService: ChangePhoneNumberService;\n  protected analyticsInteractor: AnalyticsInteractor;\n  protected applicationDataInteractor: ApplicationDataInteractor;\n  protected moduleConfigProvider: ModuleConfigProvider;\n\n  constructor(injector: Injector) {\n    super(injector);\n\n    this.route = injector.get(ActivatedRoute);\n    this.sessionProvider = injector.get(SessionProvider);\n    this.loadingService = injector.get(LoadingService);\n    this.translateProvider = injector.get(TranslateProvider);\n    this.activitySessionService = injector.get(ActivitySessionService);\n    this.enrollInteractor = injector.get(EnrollInteractor);\n    this.toastService = injector.get(ToastService);\n    this.provisioningManagementService = injector.get(ProvisioningManagementService);\n    this.provisioningInteractor = injector.get(ProvisioningInteractor);\n    this.userInfoProvider = injector.get(UserInfoProvider);\n    this.tokenAccessActionService = injector.get(TokenAccessActionService);\n    this.authProvider = injector.get(AuthProvider);\n    this.changePhoneNumberService = injector.get(ChangePhoneNumberService);\n    this.analyticsInteractor = injector.get(AnalyticsInteractor);\n    this.applicationDataInteractor = injector.get(ApplicationDataInteractor);\n    this.moduleConfigProvider = injector.get(ModuleConfigProvider);\n\n    this.translateProvider.loadModule(this.moduleConfigProvider.i18n.moduleKey);\n    this.translateProvider.loadModule(this.moduleConfigProvider.i18n.accountLocksKey);\n  }\n\n  public async ngOnInit() {\n    this.viewModel.setQueryParams(this.route.snapshot.queryParamMap);\n\n    await this.tokenAccessActionService.initActions(\n      this.viewModel.tokenAccess,\n      this.viewModel.phoneNumber\n    );\n  }\n\n  public async goBack() {\n    this.requestOtpOrganism?.cancel();\n  }\n\n  public onCanceled() {\n    if (this.viewModel.isEnroll) {\n      return this.navigatorProvider.navigateRoot(EnrollTokenConfig.routes.enrollRequest);\n    }\n\n    this.navigatorProvider.navigateRoot(EnrollTokenConfig.routes.login);\n  }\n\n  public async onOtpFilled({ otp, channel }: { otp: string; channel: OtpChannel }): Promise<void> {\n    if (this.changePhoneNumberService.isChangePhoneNumberActive) {\n      await this.changePhoneNumberService.changePhoneNumber(this.viewModel.phoneNumber, otp);\n\n      return this.tokenAccessActionService.finishActions(null);\n    }\n\n    const params: ValidateOtpParams = {\n      phoneNumber: this.viewModel.phoneNumber,\n      isEnroll: this.viewModel.isEnroll,\n      channel,\n      otp,\n    };\n\n    try {\n      await this.loadingService.show();\n      const result = await this.enrollInteractor.validateOtp(params);\n\n      await this.otpValidated(result);\n\n      await this.loadingService.hide(true);\n\n      await this.checkBiometryBlocked();\n    } catch (error) {\n      await this.loadingService.hide(false);\n\n      if (error instanceof ProvisioningFailedException) {\n        return this.showProvisioningFailedError();\n      }\n\n      this.requestOtpOrganism.processError(error);\n    }\n  }\n\n  public async otpValidated(response: ValidateOtpEntity) {\n    this.trackRegistryOtp();\n\n    if (response.state === UserStatus.ENROLL) {\n      this.activitySessionService.initActivity();\n      this.sessionProvider.userHasSession = true;\n\n      await this.userInfoProvider.save({\n        phoneNumber: this.viewModel.phoneNumber,\n        clientId: null,\n        state: String(response.state),\n      });\n\n      this.sendAnalyticsAcceptDataTreatment();\n    } else {\n      if (typeof response === 'undefined' || typeof response.softToken === 'undefined') {\n        return this.showProvisioningFailedError();\n      }\n\n      await this.provisioningDevice(response.softToken);\n    }\n\n    await this.loadingService.hide(true);\n    await this.tokenAccessActionService.finishActions(this.viewModel.tokenAccess);\n  }\n\n  public async generateVoiceOtp() {\n    try {\n      await this.loadingService.show();\n      await this.enrollInteractor.generateVoiceOtp(parseInt(this.viewModel.phoneNumber, 10));\n      await this.loadingService.hide(true);\n    } catch (error) {\n      await this.loadingService.hide(false);\n      this.toastService.showError(error.errorMessage);\n    }\n  }\n\n  private async checkBiometryBlocked() {\n    const biometryBlocked = await this.applicationDataInteractor.findValue<string>(\n      this.moduleConfigProvider.applicationData.biometryBlocked,\n      null,\n      this.userInfoProvider.getPhoneNumber()\n    );\n\n    if (biometryBlocked !== null) {\n      if (biometryBlocked === BiometryType.FACE) {\n        this.tokenAccessActionService.finishActions(TokenAccess.RESTART_BIOMETRY_FACE);\n\n        return;\n      }\n\n      this.tokenAccessActionService.finishActions(TokenAccess.RESTART_BIOMETRY_VOICE);\n    }\n  }\n\n  private async provisioningDevice(softToken: string) {\n    try {\n      this.sessionProvider.userHasSession = true;\n      await this.provisioningManagementService.registerByActivationCode(softToken);\n\n      await this.provisioningInteractor.activateDevice({\n        phoneNumber: this.viewModel.phoneNumber,\n        isEmailSent: true,\n      });\n    } catch (error) {\n      this.authProvider.signOut();\n\n      throw error;\n    }\n  }\n\n  private showProvisioningFailedError() {\n    this.toastService.showError(\n      this.translateProvider.get(EnrollTokenConfig.errorMessages.provisioningFailedError)\n    );\n  }\n\n  private trackRegistryOtp() {\n    this.analyticsInteractor.trackEvent({\n      type: AnalyticsType.FACEBOOK,\n      params: { eventName: EnrollTokenConfig.anaytics.registryOtpEventName },\n    });\n\n    this.analyticsInteractor.trackEvent({\n      type: AnalyticsType.FIREBASE,\n      params: { eventName: EnrollTokenConfig.anaytics.registryOtpEventName },\n    });\n  }\n\n  private sendAnalyticsAcceptDataTreatment() {\n    const analytics = EnrollTokenConfig.anaytics.acceptDataTreatment;\n\n    this.analyticsInteractor.trackEvent({\n      type: AnalyticsType.CLEVERTAP,\n      params: {\n        eventName: analytics.name,\n        eventProps: stringsArrayToObjectWithValues(analytics.params, [getFormattedDateTimes()]),\n      },\n    });\n  }\n}\n","<app-request-otp\n  [title]=\"'enroll.token.title' | translate\"\n  [phoneNumber]=\"viewModel.phoneNumber\"\n  (canceled)=\"onCanceled()\"\n  (voiceOtpRequested)=\"generateVoiceOtp()\"\n  (filled)=\"onOtpFilled($event)\"\n>\n</app-request-otp>\n"],"sourceRoot":"webpack:///"}